(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"110":function(e,t,n){"use strict";var r=n(0),o=n(2),i=n(11),a=n(111),c=n.n(a),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l=function(e){function MyLoading(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MyLoading),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MyLoading.__proto__||Object.getPrototypeOf(MyLoading)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MyLoading,o["a"].Component),s(MyLoading,[{"key":"render","value":function render(){var e=this.props.hide;return r.j.createElement(i.a,{"className":[c.a.loading_components,c.a.fullScreen,e?"":c.a.hide]})}}]),MyLoading}();t.a=l},"111":function(e,t,n){e.exports={"loading_components":"index-module__loading_components___UoFWb","fullScreen":"index-module__fullScreen___3ZRk8","hide":"index-module__hide___hkRGs"}},"115":function(e,t,n){"use strict";n.d(t,"a",function(){return setNavigationBarTitle});var r=n(1);function setNavigationBarTitle(e){var t=Object(r.j)(e);if(!t.res){var n={"errMsg":"setNavigationBarTitle"+t.msg};return console.error(n.errMsg),Promise.reject(n)}var o=e.title,i=e.success,a=e.fail,c=e.complete,s={"errMsg":"setNavigationBarTitle:ok"};return o&&"string"==typeof o?(document.title!==o&&(document.title=o),"function"==typeof i&&i(s),"function"==typeof c&&c(s),Promise.resolve(s)):(s.errMsg=Object(r.d)({"name":"setNavigationBarTitle","para":"title","correct":"String","wrong":o}),console.error(s.errMsg),"function"==typeof a&&a(s),"function"==typeof c&&c(s),Promise.reject(s))}},"116":function(e,t,n){"use strict";var r=n(0),o=n(2),i=n(11),a=n(117),c=n(130),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l=function(e){function MyIcon(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MyIcon),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MyIcon.__proto__||Object.getPrototypeOf(MyIcon)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MyIcon,o["a"].Component),s(MyIcon,[{"key":"render","value":function render(){return r.j.createElement(i.a,{"style":{"display":"flex","alignItems":"center"}},r.j.createElement(c.a,{"value":this.props.value,"size":this.props.size,"color":this.props.color}),r.j.createElement(a.a,null,this.props.text))}}]),MyIcon}();t.a=l},"146":function(e,t,n){e.exports={"list_wrapper":"index-module__list_wrapper___2Q1_X","list_header":"index-module__list_header___1argi","list_header_right":"index-module__list_header_right___Y5jdl","music_item_container":"index-module__music_item_container___3WaiN"}},"148":function(e,t,n){e.exports={"detail_wrapper":"index-module__detail_wrapper___28hSW","detail_container":"index-module__detail_container___1t4jS","bg_img":"index-module__bg_img___14Tn3","detail_header":"index-module__detail_header___gq4X9","detail_header_info":"index-module__detail_header_info___2LzI2","sub_info_cover":"index-module__sub_info_cover___D51Uh","sub_info_img":"index-module__sub_info_img___2i_W5","sub_info_content":"index-module__sub_info_content___1yQZA","sub_info_creator":"index-module__sub_info_creator___1xK7q","sub_info_creator_img":"index-module__sub_info_creator_img___DhoVR","sub_info_mark":"index-module__sub_info_mark___Lx3BR","sub_info_mark_btn":"index-module__sub_info_mark_btn___2gV1i","detail_summary":"index-module__detail_summary___3apNr"}},"166":function(e,t,n){"use strict";n.r(t);var r=n(0),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter(e,t,n){if(!t)return null;var r=e.id,o=e.dataset,i=e.rect,a=e.size,c=e.scrollOffset,s=e.properties,l=void 0===s?[]:s,u=e.computedStyle,p=void 0===u?[]:u,f=t.getBoundingClientRect(),_=f.left,d=f.right,h=f.top,y=f.bottom,m=f.width,v=f.height,g="html"===n,b={};if(r&&(b.id=t.id),o&&(b.dataset=Object.assign({},t.dataset)),i&&(g?(b.left=0,b.right=0,b.top=0,b.bottom=0):(b.left=_,b.right=d,b.top=h,b.bottom=y)),a&&(g?(b.width=t.clientWidth,b.height=t.clientHeight):(b.width=m,b.height=v)),c&&(b.scrollLeft=t.scrollLeft,b.scrollTop=t.scrollTop),l.length&&l.forEach(function(e){var n=t.getAttribute(e);n&&(b[e]=n)}),p.length){var w=window.getComputedStyle(t);p.forEach(function(e){var t=w.getPropertyValue(e);t&&(b[e]=t)})}return b}var i=function(){function Query(){_classCallCheck(this,Query),this._defaultWebviewId=null,this._webviewId=null,this._queue=[],this._queueCb=[],this._component=null}return o(Query,[{"key":"in","value":function _in(e){return this._component=e,this}},{"key":"select","value":function select(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new a(e,this,!0)}},{"key":"selectAll","value":function selectAll(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new a(e,this,!1)}},{"key":"selectViewport","value":function selectViewport(){return new a("html",this,!0)}},{"key":"exec","value":function exec(e){var t=this;!function queryBat(e,t){var n=[];e.forEach(function(e){var t=e.selector,o=e.single,i=e.fields,a=e.component,c=null!==a&&r.j.findDOMNode(a)||document,s=!1;if(c!==document)for(var l=c.parentNode.querySelectorAll(t),u=0,p=l.length;u<p;++u)if(c===l[u]){s=!0;break}if(o){var f=!0===s?c:c.querySelector(t);n.push(filter(i,f,t))}else{var _=c.querySelectorAll(t),d=[];!0===s&&d.push(c);for(var h=0,y=_.length;h<y;++h)d.push(_[h]);n.push(d.map(function(e){return filter(i,e)}))}}),t(n)}(this._queue,function(n){var r=t._queueCb;n.forEach(function(e,n){"function"==typeof r[n]&&r[n].call(t,e)}),"function"==typeof e&&e.call(t,n)})}},{"key":"_push","value":function _push(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._queue.push({"component":t,"selector":e,"single":n,"fields":r}),this._queueCb.push(o)}}]),Query}(),a=function(){function NodesRef(e,t,n){_classCallCheck(this,NodesRef),this._component=t._component,this._selector=e,this._selectorQuery=t,this._single=n}return o(NodesRef,[{"key":"boundingClientRect","value":function boundingClientRect(e){var t=this._selector,n=this._component,r=this._single,o=this._selectorQuery;return o._push(t,n,r,{"id":!0,"dataset":!0,"rect":!0,"size":!0},e),o}},{"key":"scrollOffset","value":function scrollOffset(e){var t=this._selector,n=this._component,r=this._single,o=this._selectorQuery;return o._push(t,n,r,{"id":!0,"dataset":!0,"scrollOffset":!0},e),o}},{"key":"fields","value":function fields(e,t){var n=this._selector,r=this._component,o=this._single,i=this._selectorQuery,a=e.id,c=e.dataset,s=e.rect,l=e.size,u=e.scrollOffset,p=e.properties,f=void 0===p?[]:p,_=e.computedStyle,d=void 0===_?[]:_;return i._push(n,r,o,{"id":a,"dataset":c,"rect":s,"size":l,"scrollOffset":u,"properties":f,"computedStyle":d},t),i}}]),NodesRef}();var c,s=n(115),l=n(33),u=n(2),p=n(11),f=n(127),_=n(117),d=n(157),h=n(172),y=n(116),m=n(146),v=n.n(m),g=n(91),b=n(21),w=n(99),j=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var P,O=Object(b.b)(function(e){var t=e.player;return{"playStatus":t.playStatus,"currentIndex":t.currentIndex}},function(e){return{"asyncSetCurrentIndex":function asyncSetCurrentIndex(t){e(Object(w.b)(t))}}})(c=function(e){function PlayMusicList(e){!function playMusicList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlayMusicList);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(PlayMusicList.__proto__||Object.getPrototypeOf(PlayMusicList)).call(this,e));return t.showDetail=function(e,n){t.props.asyncSetCurrentIndex(e),u.a.navigateTo({"url":"/pages/player/index?index="+e+"&id="+n})},t.state={"currentIndex":-1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PlayMusicList,u["a"].Component),j(PlayMusicList,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var t=this;this.setState({"currentIndex":e.currentIndex},function(){console.log(t.state.currentIndex)})}},{"key":"render","value":function render(){var e=this,t=this.state.currentIndex;if(this.props.playList&&this.props.playList.tracks)return r.j.createElement(p.a,{"className":v.a.list_wrapper,"id":"playList_wrapper"},r.j.createElement(p.a,{"className":v.a.list_header,"id":"list_header"},r.j.createElement(p.a,{"className":v.a.list_header_left},r.j.createElement(y.a,{"value":"play","size":"15","color":"#000","text":"播放全部("+this.props.playList.tracks.length+"首)"})),r.j.createElement(p.a,{"className":v.a.list_header_right},r.j.createElement(y.a,{"value":"add","size":"15","color":"#fff","text":"收藏("+Object(g.a)(this.props.playList.subscribedCount)+")"}))),r.j.createElement(p.a,null,r.j.createElement(d.a,null,this.props.playList.tracks.map(function(n,o){var i;return r.j.createElement(p.a,{"className":v.a.music_item_container,"key":n.id},r.j.createElement(p.a,{"style":{"display":"flex","justifyContent":"center","width":"10%"}},o===t?r.j.createElement(y.a,{"value":"volume-plus","color":"#d44439"}):o+1),r.j.createElement(p.a,{"style":{"width":"90%"}},r.j.createElement(h.a,(_defineProperty(i={"arrow":"play","note":n.ar[0].name,"title":n.name,"key":n.id},"arrow","right"),_defineProperty(i,"onClick",function onClick(){e.showDetail(o,n.id)}),i))))}))));console.log(1,this.props)}}]),PlayMusicList}())||c,x=n(148),k=n.n(x),S=n(110),E=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),L=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0};var D=Object(b.b)(function(e){return{"playList":e.player.playList}},function(e){return{"asyncGetPlayList":function asyncGetPlayList(t){return e(Object(w.a)(t))}}})(P=function(e){function movieDetail(e){!function movieDetail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,movieDetail);var t=function movieDetail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(movieDetail.__proto__||Object.getPrototypeOf(movieDetail)).call(this,e));return t.config={"navigationBarTitleText":"歌单"},t.stickyTop=function(){},t.updateTitle=function(){(function createSelectorQuery(){return new i})().select("#sub_info_creator").boundingClientRect(function(e){e.top<0?Object(s.a)({"title":t.props.playList.name}):Object(s.a)({"title":"歌单"})}).exec()},t.state={"showLoading":!1},t}return function movieDetail_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(movieDetail,u["a"].Component),E(movieDetail,[{"key":"componentWillMount","value":function componentWillMount(){var e={"id":this.$router.params.id};this.setState({"showLoading":!0}),this.props.asyncGetPlayList(e),this.setState({"showLoading":!1})}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){console.log(this.props,e)}},{"key":"onPageScroll","value":function onPageScroll(e){this.updateTitle(),this.stickyTop()}},{"key":"render","value":function render(){var e=this.props.playList;if(e.coverImgUrl)return r.j.createElement(p.a,{"className":k.a.detail_wrapper},r.j.createElement(p.a,{"className":k.a.detail_container},r.j.createElement(f.a,{"src":e.coverImgUrl,"className":k.a.bg_img}),r.j.createElement(p.a,{"className":k.a.detail_header},r.j.createElement(p.a,{"className":k.a.detail_header_info},r.j.createElement(p.a,{"className":k.a.sub_info_cover},r.j.createElement(f.a,{"src":e.coverImgUrl,"className":k.a.sub_info_img})),r.j.createElement(p.a,{"className":k.a.sub_info_content},r.j.createElement(_.a,{"style":{"fontSize":"16px"}},e.name),r.j.createElement(p.a,{"className":k.a.sub_info_creator,"id":"sub_info_creator"},r.j.createElement(f.a,{"src":e.creator.avatarUrl,"className":k.a.sub_info_creator_img}),r.j.createElement(_.a,{"style":{"fontSize":"14px","marginLeft":"10px"}},""+e.creator.nickname))))),r.j.createElement(p.a,{"style":{"borderRadius":"30px","background":"#fff"}},r.j.createElement(O,{"playList":this.props.playList,"stickyTop":this.stickyTop}))),this.state.showLoading?r.j.createElement(S.a,{"hide":this.state.showLoading}):"")}},{"key":"componentDidMount","value":function componentDidMount(){L(movieDetail.prototype.__proto__||Object.getPrototypeOf(movieDetail.prototype),"componentDidMount",this)&&L(movieDetail.prototype.__proto__||Object.getPrototypeOf(movieDetail.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){L(movieDetail.prototype.__proto__||Object.getPrototypeOf(movieDetail.prototype),"componentDidShow",this)&&L(movieDetail.prototype.__proto__||Object.getPrototypeOf(movieDetail.prototype),"componentDidShow",this).call(this),this._offPageScroll=Object(l.a)({"callback":this.onPageScroll,"ctx":this})}},{"key":"componentDidHide","value":function componentDidHide(){L(movieDetail.prototype.__proto__||Object.getPrototypeOf(movieDetail.prototype),"componentDidHide",this)&&L(movieDetail.prototype.__proto__||Object.getPrototypeOf(movieDetail.prototype),"componentDidHide",this).call(this),this._offPageScroll&&this._offPageScroll()}}]),movieDetail}())||P;t.default=D},"89":function(e,t,n){"use strict";var r=n(156);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var i=t[r](o),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}var o,i,a=function request(e,t,n){return new Promise(function(o,i){Object(r.a)({"url":"http://49.235.18.58:7700/"+e,"data":n,"method":t,"header":{"content-type":"application/json"},"success":function success(e){o(e.data)}})})},c=(o=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a(e,"GET",n);case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}},_callee,void 0)})),function get(e){return o.apply(this,arguments)}),s=(i=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a(e,"POST",n);case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}},_callee2,void 0)})),{"GetMusicDetail":function GetMusicDetail(e){return c("playlist/detail",e)},"GetSongDetail":function GetSongDetail(e){return c("song/detail",e)},"GetSongUrl":function GetSongUrl(e){return c("song/url",e)}}),l={"GetHotList":function GetHotList(e){return c("search/hot/detail",e)},"GetSuggestList":function GetSuggestList(e){return c("search/suggest",e)}},u={"GetBannerList":function GetBannerList(){return c("banner")},"GetRecommendList":function GetRecommendList(){return c("personalized")}},p={"GetUserInfo":function GetUserInfo(e){return c("login/cellphone",params)}};t.a={"songModel":s,"searchModel":l,"homeModel":u,"userModel":p}},"91":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function countFilter(e){var t=e/1e8,n=e/1e4;return t>1?t.toFixed(1)+"亿":n>1?n.toFixed(1)+"万":e},o=function timeFilter(e){return(~~((e=~~e)%3600/60)).toString().padStart(2,"0")+":"+(e%3600%60).toString().padStart(2,"0")}},"99":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n(89),o=n(4);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var i=t[r](o),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}var i=function SetPlayStatusAction(e){return console.log("isPlay",e),{"type":o.f,"payload":e}},a=function GetPlayListAction(e){return t=_asyncToGenerator(regeneratorRuntime.mark(function _callee(t){var n,i,a;return regeneratorRuntime.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,r.a.songModel.GetMusicDetail(e);case 2:n=c.sent,i=n.playlist,a={"type":o.e,"payload":i},t(a);case 6:case"end":return c.stop()}},_callee,void 0)})),function(e){return t.apply(this,arguments)};var t},c=function SetCurrentIndexAction(e){return{"type":o.b,"payload":e}}}}]);